#!/usr/bin/env python
# encoding: utf-8
"""
compareSamplers.py

Created by hendrik on 2006-05-24.
Copyright (c) 2006. All rights reserved.
"""

from __future__ import division
from scipy import *
from AdamAndArnaudsAlgorithm3 import AdamAndArnaudsAlgorithm3
from improvedAlgorithm3 import Improved_AandA_Algorithm3
from PtoPlogPAnnealingSMCSampler import PtoPlogPAnnealingSMCSampler

import Schedules
import random 

def main():
	numParticles = 100
	numIterations = 509
	stepsPerInt = 10
	baseName = "runs/" + str(numParticles) + "parts_" + str(numIterations) + "iter_" + str(stepsPerInt) + "stepsize_"
	samplerSchedulePairs = [
	(AdamAndArnaudsAlgorithm3(), Schedules.LinearFractionalSchedule(stepsPerInt)),
#	(Improved_AandA_Algorithm3(), Schedules.LinearFractionalSchedule(stepsPerInt)),
	(PtoPlogPAnnealingSMCSampler(),Schedules.Fractional0to1Schedule(stepsPerInt)),
	(AdamAndArnaudsAlgorithm3(), Schedules.IntegerStepsSchedule(stepsPerInt))
	]
	
	for sampler, schedule in samplerSchedulePairs:
		samplerName = sampler.__class__.__name__
		scheduleName = schedule.__class__.__name__
		print "\n========================================================"
		print "Running SMC sampler ", samplerName
		print "========================================================"
		sampler.runSampler(numParticles, numIterations, schedule)
		saveName = baseName + samplerName + "_" + scheduleName + ".pydata"
		sampler.saveSamples(saveName)
		

if __name__ == '__main__':
    main()

